extends ../layout
include ./build_info_table.pug

block extraInfo 
  link(rel='stylesheet', href='/stylesheets/build/build-form.css')
  link(rel='stylesheet', href='/stylesheets/build/build-info-table.css')
  script(src="/javascripts/build/build_form.js" defer) 

block content
  //- Where we create our PC Parts List; can be used to create a new list
  //- or update an existing list (given we provide a password -- aka
  //- validation)
  //- We can access with an admin password or list password the creator
  //- provided
  //- If we're creating/updating a list, save the parts in local storage
  //- or something

  //- TODO: Need to add fields for author name, description, save password, etc.


  //- Header
  header.pg_header.cstm_clr= title

  +build_info_table(categories, comp_list, true, true)

  button(onclick="showSubmissionProcess();").btn#prepSub_btn(class=(formError ? 'hide' : ''))
    | Add Submission

  form(method="POST").flex#bldSub_form(class=(formError ? '' : 'hide'))
    label Author Name
      input(type="text" name="author_name" value=(undefined===prevData ? "" : prevData.author_name) maxlength="30" required) 
    label Build Name
      input(type="text" name="build_name" value=(undefined===prevData ? "" : prevData.build_name) maxlength="30" required) 
    label Build Description
      input(type="text" name="description" value=(undefined===prevData ? "" : prevData.description) maxlength="200" required) 
    label Thumbnail Image URL
      input(type="url" name="thumbnail_url" value=(undefined===prevData ? "" : prevData.thumbnail_url) required) 
    //- TODO: Hide field when we're updating the build
    label Save Password
      input(type="text" name="save_pass" value=(undefined===prevPass ? "" : prevPass) minlength="6" required) 
    p.notice 
      b Note: 
      | The password is for when you want to edit this build list in the future.

    button(type="submit").btn Submit New PC Build

